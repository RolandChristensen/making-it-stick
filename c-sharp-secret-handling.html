<!DOCTYPE html>
<!--
Use this template to create new "flashcard/notes" pages.

Replace the template text on the fronts and backs of cards with the question and answer.

To create a bunch of cards, copy and paste the flashcard-frame section over and over again. To avoid the need to copy the flashcard-frame section from the original template, always keep at least one flashcard-frame section template.

For the notes section replace the

- Roland Christensen 2022-06-10
-->

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>C# Secret Management Flash Cards</title>

    <link rel="stylesheet" href="css/card.css">
    <link rel="stylesheet" href="css/notes-section.css">
    <link rel="stylesheet" href="css/code.css">

    <script src="js/notes.js"></script>
  </head>

  <body onload="OnBodyLoad();">
    <header>

    </header>

    <main>
      <h1>C# Secret Management Flashcards</h1>

      <div class="flashcards-grid">

        <div class="flashcard-frame">
          <div class="flashcard" onclick="this.classList.toggle('flip');">
            <div class="flip-card">
              <div class="card-front">
                <img src="images/flashcard.gif" alt="Image of a flashcard.">

                <div class="top-left">
                  <p>Question</p>
                </div>

                <div class="center-left">
                  <p>What three Nuget packages are used for C# user secrets configuration management to keep secrets out of JSON configuration files that will be checked in?</p>
                </div>
              </div>

              <div class="card-back">
                <img src="images/flashcard.gif" alt="Image of a flashcard.">
                <div class="top-left">
                  <p>Answer</p>
                </div>

                <div class="center-left">
                  <ul>
                    <li>Microsoft.Extensions.Configuration</li>
                    <li>Microsoft.Extensions.Configuration.Json</li>
                    <li>Microsoft.Extensions.Configuration.UserSecrets</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div> <!-- End of Flashcard Frame -->

        <div class="flashcard-frame">
          <div class="flashcard" onclick="this.classList.toggle('flip');">
            <div class="flip-card">
              <div class="card-front">
                <img src="images/flashcard.gif" alt="Image of a flashcard.">

                <div class="top-left">
                  <p>Question</p>
                </div>

                <div class="center-left">
                  <p>How would you create a builder object to read secrets added via the Secrets Configuration Management JSON?</p>
                </div>
              </div>

              <div class="card-back">
                <img src="images/flashcard.gif" alt="Image of a flashcard.">
                <div class="top-left">
                  <p>Answer</p>
                </div>

                <div class="center-left">
                  <p>Instantiate a new ConfigurationBuilder() object and concatenate the AddUserSecrets&lt;ClassName&gt;().</p>
                </div>
              </div>
            </div>
          </div>
        </div> <!-- End of Flashcard Frame -->

        <div class="flashcard-frame">
          <div class="flashcard" onclick="this.classList.toggle('flip');">
            <div class="flip-card">
              <div class="card-front">
                <img src="images/flashcard.gif" alt="Image of a flashcard.">

                <div class="top-left">
                  <p>Question</p>
                </div>

                <div class="center-left">
                  <p>How do you instantiate the IConfiguration interface?</p>
                </div>
              </div>

              <div class="card-back">
                <img src="images/flashcard.gif" alt="Image of a flashcard.">
                <div class="top-left">
                  <p>Answer</p>
                </div>

                <div class="center-left">
                  <p>
<pre> <code>var builder = new ConfigurationBuilder().
    AddUserSecrets&lt;ClassName&gt;();
IConfiguration configuration = builder.Build();
</code> </pre>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div> <!-- End of Flashcard Frame -->

        <div class="flashcard-frame">
          <div class="flashcard" onclick="this.classList.toggle('flip');">
            <div class="flip-card">
              <div class="card-front">
                <img src="images/flashcard.gif" alt="Image of a flashcard.">

                <div class="top-left">
                  <p>Question</p>
                </div>

                <div class="center-left">
                  <p>What steps do you take to add a secret to a project?</p>
                </div>
              </div>

              <div class="card-back">
                <img src="images/flashcard.gif" alt="Image of a flashcard.">
                <div class="top-left">
                  <p>Answer</p>
                </div>

                <div class="center-left">
                  <ol>
                    <li>Open Solution Explorer in Visual Studio</li>
                    <li>Right click the project in which you will use the secret.</li>
                    <li>Click &quot;Manage User Secrets&quot; from the context menu. A file named &quot;secrets.json&quot; will appear.</li>
                    <li>Add any JSON key value pairs that you want to keep secret here.</li>
                  </ol>
                </div>
              </div>
            </div>
          </div>
        </div> <!-- End of Flashcard Frame -->

        <div class="flashcard-frame">
          <div class="flashcard" onclick="this.classList.toggle('flip');">
            <div class="flip-card">
              <div class="card-front">
                <img src="images/flashcard.gif" alt="Image of a flashcard.">

                <div class="top-left">
                  <p>Question</p>
                </div>

                <div class="center-left">
                  <p>How do you access a value in the configuration file?</p>
                </div>
              </div>

              <div class="card-back">
                <img src="images/flashcard.gif" alt="Image of a flashcard.">
                <div class="top-left">
                  <p>Answer</p>
                </div>

                <div class="center-left">
                  <p>Given:
<pre><code>{
  "GitHub" : {
    "PersonalAccessToken" :  "Test"
  }
}</code></pre>
                    Do this:
<pre><code>var test = configuration["GitHub:PersonalAccessToken"];</code></pre>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div> <!-- End of Flashcard Frame -->

      </div> <!-- End of Flash Cards Grid section -->

      <section class="notes-section">
        <h2>Notes On Flashcard Topics</h2>

        <button type="button" class="collapse-button">Configuration to Hide Secrets</button>
        <!-- Button above toggles section below to expand/contract. The JavaScript requires this to be the next element to work. -->
        <section class="collapsible-section">
          <h3>Nuget Packages</h3>
          <ul>
            <li>Microsoft.Extensions.Configuration</li>
            <li>Microsoft.Extensions.Configuration.Json</li>
            <li>Microsoft.Extensions.Configuration.UserSecrets</li>
          </ul>

          <h3>Configuration Builder</h3>
          <p>Use something similar to this in a start up class to hold values you need throughout your code.
<pre> <code>[SetUpFixture]
internal class SetUpFixture
{
    /// &lt;summary&gt;
    /// Holds the values in the appSettings.json and user secrets.
    /// &lt;/summary&gt;
    public static IConfiguration Configuration { get; set; }

    [OneTimeSetUp]
    public void OneTimeSetup()
    {
        // Note the &quot;generic type parameter&quot; is the class name.
        //   Instructs the configuration builder to search the assembly
        //   with the type (class name) for an instance of
        //   UserSecretsIdAttribute (automatically generated by MSBuild),
        //   which specifies the unique user secrets ID needed to store and
        //   retrieve the secrets.
        var builder = new ConfigurationBuilder().AddUserSecrets&lt;SetUpFixture&gt;();
        Configuration = builder.Build();
    }
}</code> </pre>
          </p>

          <h3>Add Secrets to Project</h3>
          <p>
            <ol>
              <li>Open Solution Explorer in Visual Studio</li>
              <li>Right click the project in which you will use the secret.</li>
              <li>Click &quot;Manage User Secrets&quot; from the context menu. A file named &quot;secrets.json&quot; will appear.</li>
              <li>Add any JSON key value pairs that you want to keep secret here.</li>
            </ol>

            Example:
<pre><code>{
  "GitHub" : {
    "PersonalAccessToken" :  "Test"
  }
}</code></pre>
          </p>

          <h3>Accessing the data</h3>
<pre><code>var test = SetUpFixture.Configuration["GitHub:PersonalAccessToken"];</code></pre>

        </section>

        <button type="button" class="collapse-button">Add Section on Pushing Configuration Files Through Environments</button>
        <!-- Button above toggles section below to expand/contract. The JavaScript requires this to be the next element to work. -->
        <section class="collapsible-section">
          <h3>Below are notes on ...</h3>
          <p>Take notes and drop in here...</p>
          <ul>
            <li>A quick note.</li>
            <li>Another quick note.</li>
          </ul>
        </section>

        <button type="button" class="collapse-button">Title of Note</button>
        <!-- Button above toggles section below to expand/contract. The JavaScript requires this to be the next element to work. -->
        <section class="collapsible-section">
          <h3>Below are notes on ...</h3>
          <p>Take notes and drop in here...</p>
          <ul>
            <li>A quick note.</li>
            <li>Another quick note.</li>
          </ul>
        </section>

      </section> <!-- End of Expandable Notes section -->

    </main>

    <footer>

    </footer>

  </body>
</html>
